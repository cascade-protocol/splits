/**
 * This code was AUTOGENERATED using the Codama library.
 * Please DO NOT EDIT THIS FILE, instead use visitors
 * to add features, then rerun Codama to update it.
 *
 * @see https://github.com/codama-idl/codama
 */

import {
	isProgramError,
	type Address,
	type SOLANA_ERROR__INSTRUCTION_ERROR__CUSTOM,
	type SolanaError,
} from "@solana/kit";
import { CASCADE_SPLITS_PROGRAM_ADDRESS } from "../programs";

/** InvalidRecipientCount: Recipient count must be between 1 and 20 */
export const CASCADE_SPLITS_ERROR__INVALID_RECIPIENT_COUNT = 0x1770; // 6000
/** InvalidSplitTotal: Recipient percentages must sum to 9900 bps (99%) */
export const CASCADE_SPLITS_ERROR__INVALID_SPLIT_TOTAL = 0x1771; // 6001
/** DuplicateRecipient: Duplicate recipient address */
export const CASCADE_SPLITS_ERROR__DUPLICATE_RECIPIENT = 0x1772; // 6002
/** ZeroAddress: Recipient address cannot be zero */
export const CASCADE_SPLITS_ERROR__ZERO_ADDRESS = 0x1773; // 6003
/** ZeroPercentage: Recipient percentage cannot be zero */
export const CASCADE_SPLITS_ERROR__ZERO_PERCENTAGE = 0x1774; // 6004
/** RecipientATADoesNotExist: Recipient ATA does not exist */
export const CASCADE_SPLITS_ERROR__RECIPIENT_A_T_A_DOES_NOT_EXIST = 0x1775; // 6005
/** RecipientATAInvalid: Recipient ATA is invalid */
export const CASCADE_SPLITS_ERROR__RECIPIENT_A_T_A_INVALID = 0x1776; // 6006
/** RecipientATAWrongOwner: Recipient ATA has wrong owner */
export const CASCADE_SPLITS_ERROR__RECIPIENT_A_T_A_WRONG_OWNER = 0x1777; // 6007
/** RecipientATAWrongMint: Recipient ATA has wrong mint */
export const CASCADE_SPLITS_ERROR__RECIPIENT_A_T_A_WRONG_MINT = 0x1778; // 6008
/** VaultNotEmpty: Vault must be empty for this operation */
export const CASCADE_SPLITS_ERROR__VAULT_NOT_EMPTY = 0x1779; // 6009
/** InvalidVault: Invalid vault account */
export const CASCADE_SPLITS_ERROR__INVALID_VAULT = 0x177a; // 6010
/** InsufficientRemainingAccounts: Not enough accounts provided in remaining_accounts */
export const CASCADE_SPLITS_ERROR__INSUFFICIENT_REMAINING_ACCOUNTS = 0x177b; // 6011
/** MathOverflow: Math overflow */
export const CASCADE_SPLITS_ERROR__MATH_OVERFLOW = 0x177c; // 6012
/** MathUnderflow: Math underflow */
export const CASCADE_SPLITS_ERROR__MATH_UNDERFLOW = 0x177d; // 6013
/** InvalidProtocolFeeRecipient: Invalid protocol fee recipient */
export const CASCADE_SPLITS_ERROR__INVALID_PROTOCOL_FEE_RECIPIENT = 0x177e; // 6014
/** Unauthorized: Unauthorized */
export const CASCADE_SPLITS_ERROR__UNAUTHORIZED = 0x177f; // 6015
/** AlreadyInitialized: Protocol already initialized */
export const CASCADE_SPLITS_ERROR__ALREADY_INITIALIZED = 0x1780; // 6016
/** UnclaimedNotEmpty: Unclaimed amounts must be zero to close */
export const CASCADE_SPLITS_ERROR__UNCLAIMED_NOT_EMPTY = 0x1781; // 6017
/** InvalidTokenProgram: Invalid token program */
export const CASCADE_SPLITS_ERROR__INVALID_TOKEN_PROGRAM = 0x1782; // 6018
/** NoPendingTransfer: No pending authority transfer */
export const CASCADE_SPLITS_ERROR__NO_PENDING_TRANSFER = 0x1783; // 6019
/** InvalidRentDestination: Rent destination must match rent payer */
export const CASCADE_SPLITS_ERROR__INVALID_RENT_DESTINATION = 0x1784; // 6020

export type CascadeSplitsError =
	| typeof CASCADE_SPLITS_ERROR__ALREADY_INITIALIZED
	| typeof CASCADE_SPLITS_ERROR__DUPLICATE_RECIPIENT
	| typeof CASCADE_SPLITS_ERROR__INSUFFICIENT_REMAINING_ACCOUNTS
	| typeof CASCADE_SPLITS_ERROR__INVALID_PROTOCOL_FEE_RECIPIENT
	| typeof CASCADE_SPLITS_ERROR__INVALID_RECIPIENT_COUNT
	| typeof CASCADE_SPLITS_ERROR__INVALID_RENT_DESTINATION
	| typeof CASCADE_SPLITS_ERROR__INVALID_SPLIT_TOTAL
	| typeof CASCADE_SPLITS_ERROR__INVALID_TOKEN_PROGRAM
	| typeof CASCADE_SPLITS_ERROR__INVALID_VAULT
	| typeof CASCADE_SPLITS_ERROR__MATH_OVERFLOW
	| typeof CASCADE_SPLITS_ERROR__MATH_UNDERFLOW
	| typeof CASCADE_SPLITS_ERROR__NO_PENDING_TRANSFER
	| typeof CASCADE_SPLITS_ERROR__RECIPIENT_A_T_A_DOES_NOT_EXIST
	| typeof CASCADE_SPLITS_ERROR__RECIPIENT_A_T_A_INVALID
	| typeof CASCADE_SPLITS_ERROR__RECIPIENT_A_T_A_WRONG_MINT
	| typeof CASCADE_SPLITS_ERROR__RECIPIENT_A_T_A_WRONG_OWNER
	| typeof CASCADE_SPLITS_ERROR__UNAUTHORIZED
	| typeof CASCADE_SPLITS_ERROR__UNCLAIMED_NOT_EMPTY
	| typeof CASCADE_SPLITS_ERROR__VAULT_NOT_EMPTY
	| typeof CASCADE_SPLITS_ERROR__ZERO_ADDRESS
	| typeof CASCADE_SPLITS_ERROR__ZERO_PERCENTAGE;

let cascadeSplitsErrorMessages: Record<CascadeSplitsError, string> | undefined;
if (process.env.NODE_ENV !== "production") {
	cascadeSplitsErrorMessages = {
		[CASCADE_SPLITS_ERROR__ALREADY_INITIALIZED]: `Protocol already initialized`,
		[CASCADE_SPLITS_ERROR__DUPLICATE_RECIPIENT]: `Duplicate recipient address`,
		[CASCADE_SPLITS_ERROR__INSUFFICIENT_REMAINING_ACCOUNTS]: `Not enough accounts provided in remaining_accounts`,
		[CASCADE_SPLITS_ERROR__INVALID_PROTOCOL_FEE_RECIPIENT]: `Invalid protocol fee recipient`,
		[CASCADE_SPLITS_ERROR__INVALID_RECIPIENT_COUNT]: `Recipient count must be between 1 and 20`,
		[CASCADE_SPLITS_ERROR__INVALID_RENT_DESTINATION]: `Rent destination must match rent payer`,
		[CASCADE_SPLITS_ERROR__INVALID_SPLIT_TOTAL]: `Recipient percentages must sum to 9900 bps (99%)`,
		[CASCADE_SPLITS_ERROR__INVALID_TOKEN_PROGRAM]: `Invalid token program`,
		[CASCADE_SPLITS_ERROR__INVALID_VAULT]: `Invalid vault account`,
		[CASCADE_SPLITS_ERROR__MATH_OVERFLOW]: `Math overflow`,
		[CASCADE_SPLITS_ERROR__MATH_UNDERFLOW]: `Math underflow`,
		[CASCADE_SPLITS_ERROR__NO_PENDING_TRANSFER]: `No pending authority transfer`,
		[CASCADE_SPLITS_ERROR__RECIPIENT_A_T_A_DOES_NOT_EXIST]: `Recipient ATA does not exist`,
		[CASCADE_SPLITS_ERROR__RECIPIENT_A_T_A_INVALID]: `Recipient ATA is invalid`,
		[CASCADE_SPLITS_ERROR__RECIPIENT_A_T_A_WRONG_MINT]: `Recipient ATA has wrong mint`,
		[CASCADE_SPLITS_ERROR__RECIPIENT_A_T_A_WRONG_OWNER]: `Recipient ATA has wrong owner`,
		[CASCADE_SPLITS_ERROR__UNAUTHORIZED]: `Unauthorized`,
		[CASCADE_SPLITS_ERROR__UNCLAIMED_NOT_EMPTY]: `Unclaimed amounts must be zero to close`,
		[CASCADE_SPLITS_ERROR__VAULT_NOT_EMPTY]: `Vault must be empty for this operation`,
		[CASCADE_SPLITS_ERROR__ZERO_ADDRESS]: `Recipient address cannot be zero`,
		[CASCADE_SPLITS_ERROR__ZERO_PERCENTAGE]: `Recipient percentage cannot be zero`,
	};
}

export function getCascadeSplitsErrorMessage(code: CascadeSplitsError): string {
	if (process.env.NODE_ENV !== "production") {
		return (cascadeSplitsErrorMessages as Record<CascadeSplitsError, string>)[
			code
		];
	}

	return "Error message not available in production bundles.";
}

export function isCascadeSplitsError<
	TProgramErrorCode extends CascadeSplitsError,
>(
	error: unknown,
	transactionMessage: {
		instructions: Record<number, { programAddress: Address }>;
	},
	code?: TProgramErrorCode,
): error is SolanaError<typeof SOLANA_ERROR__INSTRUCTION_ERROR__CUSTOM> &
	Readonly<{ context: Readonly<{ code: TProgramErrorCode }> }> {
	return isProgramError<TProgramErrorCode>(
		error,
		transactionMessage,
		CASCADE_SPLITS_PROGRAM_ADDRESS,
		code,
	);
}
